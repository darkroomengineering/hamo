{"version":3,"file":"index.mjs","sources":["../src/hooks/use-click-outside-event.js","../src/misc/util.js","../src/hooks/use-debug.js","../src/hooks/use-isomorphic-layout-effect.js","../src/hooks/use-document-ready-state.js","../src/hooks/use-event-bus.js","../src/hooks/use-frame.js","../src/hooks/use-interval.js","../src/hooks/use-is-touch-device.js","../src/hooks/use-is-visible.js","../src/hooks/use-media-query.js","../src/hooks/use-rect.js","../src/hooks/use-slots.js"],"sourcesContent":["/**\n * useOutsideClickEvent - custom hook that listens for clicks outside of a component\n * @param {Object} ref - React ref for the element to listen for clicks outside of\n * @param {Function} callback - callback function to call when a click outside of the element is detected\n */\n\nimport { useCallback, useEffect } from 'react'\n\nexport function useOutsideClickEvent(ref, callback) {\n  const handleClickOutside = useCallback(\n    (event) => {\n      if (ref.current && !ref.current.contains(event.target)) {\n        callback()\n      }\n    },\n    [ref, callback]\n  )\n\n  useEffect(() => {\n    if (ref.current) {\n      document.addEventListener('mousedown', handleClickOutside)\n      return () => {\n        document.removeEventListener('mousedown', handleClickOutside)\n      }\n    }\n  }, [handleClickOutside, ref])\n}\n","// This code exports the functions isClient, noop, on, and off\n\n// isClient is a variable that is a boolean, it checks if window is defined\nexport const isClient = typeof window !== 'undefined'\n\n// noop is an empty function\nexport function noop() {}\n\n// on is a function that takes an object as the first argument and calls the addEventListener method on it\nexport function on(obj, ...args) {\n  if (obj && obj.addEventListener) {\n    obj.addEventListener(...args)\n  } else {\n    throw new Error('addEventListener is not supported')\n  }\n}\n\n// off is a function that takes an object as the first argument and calls the removeEventListener method on it\nexport function off(obj, ...args) {\n  if (obj && obj.removeEventListener) {\n    obj.removeEventListener(...args)\n  } else {\n    throw new Error('removeEventListener is not supported')\n  }\n}\n","/**\n * @summary A hook that returns true if the current window URL contains the\n *   string #debug or if we're in development mode.\n * @returns {Boolean} True if current window URL contains the string #debug or\n *   if we're in development mode, false otherwise.\n */\n\nimport { useMemo } from 'react'\nimport { isClient } from '../misc/util'\n\nfunction _useDebug() {\n  const debug = useMemo(\n    () =>\n      (window.location.href.includes('#debug') ||\n        process.env.NODE_ENV === 'development') &&\n      !window.location.href.includes('#production'),\n    []\n  )\n  return debug\n}\n\nexport const useDebug = isClient ? _useDebug : () => undefined\n","/**\n * A React hook that uses the useLayoutEffect hook in environments that support it,\n * and falls back to useEffect in environments that don't support useLayoutEffect.\n *\n * @param {function} effect The effect function to call\n * @param {array} deps An array of dependencies to use for the effect\n */\n\nimport { useEffect, useLayoutEffect as vanillaUseLayoutEffect } from 'react'\nimport { isClient } from '../misc/util'\n\nexport const useLayoutEffect = isClient ? vanillaUseLayoutEffect : useEffect\n","// useDocumentReadyState.js\n// This code is a custom hook that returns the current document.readyState\n// The useLayoutEffect hook is used to set the state of the document\n// The useEffect hook is used to set the state of the document to 'complete' when the document is ready\n\nimport { useEffect, useState } from 'react'\nimport { isClient } from '../misc/util'\nimport { useLayoutEffect } from './use-isomorphic-layout-effect'\n\nfunction _useDocumentReadyState() {\n  const [readyState, setReadyState] = useState(() => {\n    if (typeof document !== 'undefined') {\n      return document.readyState\n    }\n    return 'loading'\n  })\n\n  useLayoutEffect(() => {\n    if (typeof document === 'undefined') return\n\n    setReadyState(document.readyState)\n\n    function onStateChange() {\n      setReadyState(document.readyState)\n    }\n\n    document.addEventListener('readystatechange', onStateChange, false)\n\n    return () =>\n      document.removeEventListener('readystatechange', onStateChange, false)\n  }, [])\n\n  useEffect(() => {\n    if (typeof document === 'undefined') return\n\n    if (document.readyState === 'complete') {\n      setReadyState('complete')\n    }\n  }, [])\n\n  return readyState\n}\n\nexport const useDocumentReadyState = isClient\n  ? _useDocumentReadyState\n  : () => undefined\n","// This is a custom hook that creates a global event bus. It consists of a dispatch function and a subscribe function.\n\nimport { useEffect } from 'react'\n\nlet subscribers = []\n\n// The subscribe function is used to subscribe to an event. It returns a function that can be used to unsubscribe from the event. The subscribe function takes a filter and a callback function. The filter can be a string or a function. If the filter is a string, the event will be delivered to the callback if the event type matches the string. If the filter is a function, the event will be delivered to the callback if the function returns true when called with the event.\nfunction subscribe(filter, callbackFn) {\n  if (filter === undefined || filter === null) throw new Error('Invalid filter')\n  if (callbackFn === undefined || callbackFn === null)\n    throw new Error('Invalid callback')\n\n  subscribers = [...subscribers, [filter, callbackFn]]\n\n  return () => {\n    subscribers = subscribers.filter(\n      (subscriber) => subscriber[1] !== callbackFn\n    )\n  }\n}\n\n// The dispatch function is used to send an event to all subscribers that have subscribed to the event.\nexport function dispatch(event) {\n  let { type } = event\n  if (typeof event === 'string') type = event\n\n  const args = []\n  if (typeof event === 'string') args.push({ type })\n  else args.push(event)\n\n  subscribers.forEach(([filter, callbackFn]) => {\n    if (typeof filter === 'string' && filter !== type) return\n    if (typeof filter === 'function' && !filter(...args)) return\n    callbackFn(...args)\n  })\n}\n\n// The custom hook also takes dependencies. The dependencies are used to determine when the subscribe function should be called again. This is useful if you want to subscribe to an event only once. The custom hook returns the dispatch function.\nexport function useEventBus(type, callback, deps = []) {\n  useEffect(() => subscribe(type, callback), [...deps, callback, type])\n\n  return dispatch\n}\n","/**\n * Creates a requestAnimationFrame loop and manages the lifecycle of the callback.\n * @param {Function} callback - A function that is called every frame.\n * @param {Number} priority - A number that determines the order in which the callback is called.\n * @returns {Number} The ID of the callback.\n */\nimport { raf } from '@studio-freight/tempus'\nimport { useLayoutEffect } from './use-isomorphic-layout-effect'\n\nexport function useFrame(callback, priority = 0) {\n  useLayoutEffect(() => {\n    if (callback) {\n      const id = raf.add(callback, priority)\n      setId(id)\n\n      return () => {\n        raf.remove(id)\n      }\n    }\n  }, [callback, priority])\n}\n","/**\n * This function allows you to set an interval in a functional component\n * @param {function} callback - The callback function\n * @param {number} delay - The delay between each interval\n */\n\nimport { useEffect, useRef } from 'react'\n\nexport function useInterval(callback, delay) {\n  const savedCallback = useRef()\n  const intervalId = useRef()\n\n  useEffect(() => {\n    savedCallback.current = callback\n  })\n\n  useEffect(() => {\n    function tick() {\n      savedCallback.current()\n    }\n\n    if (delay !== null) {\n      intervalId.current = setInterval(tick, delay)\n      return () => clearInterval(intervalId.current)\n    }\n  }, [delay])\n\n  return () => clearInterval(intervalId.current)\n}\n","/*\n  This hook checks if the device has a touch screen. It checks for the touchstart event,\n  as well as the maxTouchPoints property on the navigator object. It also checks the\n  msMaxTouchPoints property, which is specific to Microsoft browsers.\n*/\n\nimport { useCallback, useEffect, useState } from 'react'\nimport { isClient } from '../misc/util'\n\nfunction _useIsTouchDevice() {\n  const check = useCallback(() => {\n    try {\n      return (\n        'ontouchstart' in window ||\n        navigator.maxTouchPoints > 0 ||\n        navigator.msMaxTouchPoints > 0\n      )\n    } catch (error) {\n      return false\n    }\n  }, [])\n\n  const [isTouchDevice, setIsTouchDevice] = useState(check())\n\n  const onResize = useCallback(() => {\n    setIsTouchDevice(check())\n  }, [check])\n\n  useEffect(() => {\n    onResize()\n    window.addEventListener('resize', onResize, { passive: true })\n\n    return () => {\n      window.removeEventListener('resize', onResize, { passive: true })\n    }\n  }, [onResize])\n\n  return isTouchDevice\n}\n\nexport const useIsTouchDevice = isClient ? _useIsTouchDevice : () => undefined\n","// useIsVisible is a custom hook that allows you to detect when an element is\n// visible on the screen. It takes an object as an argument, and returns an object\n// with two properties: setRef and inView.\n\nimport { useCallback, useEffect, useRef, useState } from 'react'\n\nexport function useIsVisible({\n  root = null,\n  rootMargin = '0px',\n  threshold = 1.0,\n  once = false,\n} = {}) {\n  const observer = useRef()\n  const ref = useRef()\n  const [inView, setInView] = useState(false)\n\n  const setRef = useCallback((node) => {\n    if (!ref.current) {\n      ref.current = node\n    }\n  }, [])\n\n  const callbackFunction = useCallback((entries) => {\n    const [entry] = entries\n    setInView(entry.isIntersecting)\n  }, [])\n\n  useEffect(() => {\n    observer.current = new IntersectionObserver(callbackFunction, {\n      root,\n      rootMargin,\n      threshold,\n    })\n    if (ref.current) observer.current.observe(ref.current)\n    return () => {\n      if (observer.current) {\n        observer.current.disconnect()\n      }\n    }\n  }, [callbackFunction])\n\n  useEffect(() => {\n    if (once && inView) {\n      observer.current.disconnect()\n    }\n  }, [inView])\n\n  return { setRef, inView }\n}\n","/**\n * @name useMediaQuery\n * @description A React hook that detects whether a media query is true or false.\n * @param {string} queryString - The media query to test against.\n * @returns {boolean} - Whether the media query is true or false.\n */\n\nimport { useCallback, useEffect, useMemo, useState } from 'react'\nimport { isClient } from '../misc/util'\n\nexport function useMediaQuery(queryString) {\n  const mediaQuery = useMemo(() => {\n    if (isClient) {\n      try {\n        return window.matchMedia(queryString)\n      } catch (error) {\n        if (process.env.NODE_ENV !== 'production') {\n          console.error(error)\n        }\n      }\n    }\n\n    return null\n  }, [queryString])\n\n  const [isMatch, setIsMatch] = useState(\n    mediaQuery ? mediaQuery.matches : false\n  )\n\n  const onChange = useCallback(({ matches }) => {\n    setIsMatch(matches)\n  }, [])\n\n  useEffect(() => {\n    if (mediaQuery) {\n      onChange(mediaQuery)\n\n      mediaQuery.addEventListener('change', onChange, { passive: true })\n\n      return () => {\n        mediaQuery.removeEventListener('change', onChange, { passive: true })\n      }\n    }\n  }, [mediaQuery, onChange])\n\n  return isMatch\n}\n","import { useCallback, useEffect, useRef, useState } from 'react'\nimport { throttle } from 'throttle-debounce'\n\n// offsetTop function returns the offsetTop value of a DOM element.\n// The offsetTop value is the distance between the top of the element\n// and the top of the viewport.\nexport function offsetTop(element, accumulator = 0) {\n  const top = accumulator + element.offsetTop\n  if (element.offsetParent) {\n    return offsetTop(element.offsetParent, top)\n  }\n  return top\n}\n\n// offsetLeft function returns the offsetLeft value of a DOM element.\n// The offsetLeft value is the distance between the left of the element\n// and the left of the viewport.\nexport function offsetLeft(element, accumulator = 0) {\n  const left = accumulator + element.offsetLeft\n  if (element.offsetParent) {\n    return offsetLeft(element.offsetParent, left)\n  }\n  return left\n}\n\nexport function useRect({\n  // ignoreTransform = true,\n  lazy = false,\n  debounce = 1000,\n} = {}) {\n  const element = useRef()\n  const resizeObserver = useRef()\n\n  const [rect, setRect] = useState({})\n  const lazyRect = useRef(rect)\n\n  const resize = useCallback(() => {\n    if (element.current) {\n      const top = offsetTop(element.current)\n      const left = offsetLeft(element.current)\n\n      lazyRect.current = { ...lazyRect.current, top, left }\n      if (!lazy) {\n        setRect(lazyRect.current)\n      }\n    }\n  }, [lazy])\n\n  // resize if body height changes\n  useEffect(() => {\n    const callback = throttle(debounce, resize)\n    const resizeObserver = new ResizeObserver(callback)\n    resizeObserver.observe(document.body)\n\n    return () => {\n      resizeObserver.disconnect()\n      callback.cancel({ upcomingOnly: true })\n    }\n  }, [debounce, resize])\n\n  const onResizeObserver = useCallback(\n    ([entry]) => {\n      const { width, height } = entry.contentRect\n\n      lazyRect.current = { ...lazyRect.current, width, height }\n      if (!lazy) {\n        setRect(lazyRect.current)\n      }\n    },\n    [lazy]\n  )\n\n  const getRect = useCallback(() => lazyRect.current, [])\n\n  useEffect(() => {\n    return () => {\n      // avoid strict mode double execution\n      if (process.env.NODE_ENV !== 'development') {\n        // disconnect resizeObserver on unmount\n        resizeObserver.current?.disconnect()\n      }\n    }\n  }, [])\n\n  const setRef = useCallback(\n    (node) => {\n      if (!node || node === element.current) return\n\n      resizeObserver.current?.disconnect()\n      resizeObserver.current = new ResizeObserver(onResizeObserver)\n      resizeObserver.current.observe(node)\n      element.current = node\n    },\n    [resize]\n  )\n\n  return [setRef, lazy ? getRect : rect]\n}\n","// This code is used to extract the contents of a component's children and return them as an array.\n// The code accepts two arguments, the names of the components that it should extract, and the children to extract from.\n// The code returns an array of the children of the components passed in the types argument.\n// based on:\n// https://medium.com/swlh/bring-vue-named-slots-to-react-87684188f18e\n\nimport { useMemo } from 'react'\n\nexport function useSlots(types = [], children = []) {\n  const _children = useMemo(() => children && [children].flat(), [children])\n  const _types = useMemo(() => types && [types].flat(), [types])\n  const slots = useMemo(() => {\n    if (!_children || !_types) {\n      return\n    }\n\n    const slots = _types.map(\n      (type) => _children.find((el) => el.type === type)?.props.children\n    )\n\n    return types[0] ? slots : slots[0]\n  }, [_children, _types])\n\n  return slots\n}\n"],"names":["useOutsideClickEvent","ref","callback","useCallback","event","current","contains","target","useEffect","document","addEventListener","handleClickOutside","removeEventListener","isClient","window","useDebug","useMemo","location","href","includes","process","env","NODE_ENV","useLayoutEffect","vanillaUseLayoutEffect","useDocumentReadyState","useState","readyState","_useState","setReadyState","onStateChange","subscribers","dispatch","type","args","push","forEach","_ref","filter","callbackFn","apply","useEventBus","deps","subscribe","Error","concat","subscriber","useFrame","priority","id","raf","add","setId","remove","useInterval","delay","useRef","savedCallback","intervalId","setInterval","clearInterval","useIsTouchDevice","check","navigator","maxTouchPoints","msMaxTouchPoints","error","isTouchDevice","setIsTouchDevice","onResize","passive","useIsVisible","_temp","_ref$root","root","rootMargin","_ref$rootMargin","_ref$threshold","threshold","once","_ref$once","observer","inView","setInView","setRef","node","callbackFunction","entries","isIntersecting","IntersectionObserver","observe","disconnect","useMediaQuery","queryString","mediaQuery","matchMedia","console","matches","isMatch","setIsMatch","onChange","offsetTop","element","accumulator","top","offsetParent","offsetLeft","left","useRect","lazy","_ref$lazy","_ref$debounce","debounce","resizeObserver","rect","setRect","lazyRect","resize","throttle","ResizeObserver","body","cancel","upcomingOnly","onResizeObserver","_ref2","contentRect","_extends","width","_entry$contentRect","height","_resizeObserver$curre","_resizeObserver$curre2","getRect","useSlots","types","children","_children","flat","_types","slots","map","_children$find","find","el","props"],"mappings":"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"}